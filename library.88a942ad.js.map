{"mappings":"oeAEAA,EAAA,S,WCAA,MAAMC,EAAa,IAAI,EAFvBD,EAAA,SAEuBE,SAEjBC,EAAO,CACXC,aAAcC,SAASC,cAAc,iBACrCC,WAAYF,SAASC,cAAc,eACnCE,iBAAkBH,SAASC,cAAc,yBAkF3C,SAASG,GAAWC,OAClBA,EAAMC,GACNA,EAAEC,eACFA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,aACZA,IAEA,MAAMC,EAAO,+BAA+BL,qHAE8BE,WAAqBD,sGAejG,SAAsBK,GACpB,GAAIA,EACF,OAAIA,EAAOC,OAAS,GACXD,EAAOE,MAAM,EAAG,IAAM,MAExBF,C,CAlBsDG,CACjDR,oDAqBMS,EAnBiCX,EAoBjDW,EAAMH,OAAS,EACV,GAAGG,EAAM,GAAGC,SAASD,EAAM,GAAGC,cAE9B,GAAGD,EAAM,GAAGC,SAASD,EAAM,GAAGC,YAIrBC,EA1BhBT,EA2BES,EACKA,EAAKJ,MAAM,EAAG,GAEN,yCA7BcJ,EAAaS,QAAQ,uEAyBtD,IAAoBD,EAREF,EAZpBlB,EAAKK,iBAAiBiB,mBAAmB,YAAaT,E,CArGxDb,EAAKC,aAAasB,iBAAiB,SAGnC,SAA6BC,GAC3BC,QAAQC,IAAI,aASd,WACE1B,EAAKK,iBAAiBsB,UAAY,GAClC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,aAAad,OAAQa,GAAK,EAE5C,GAAIC,aAAaC,IAAIF,GAAGG,SAAS,WAAY,CAE3C,MAAMC,EAAUC,KAAKC,MAAML,aAAaM,QAAQN,aAAaC,IAAIF,KACjE9B,EAAWU,GAAKwB,EAChBlC,EACGsC,kBACAC,MACC,EAAC9B,OACCA,EAAMC,GACNA,EAAEC,eACFA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,aACZA,MAEAN,EAAW,C,OACTC,E,GACAC,E,eACAC,E,YACAC,E,aACAC,E,aACAC,GACA,G,EAjCZ0B,E,IALFtC,EAAKI,WAAWmB,iBAAiB,SAQjC,SAAyBC,IAqCzB,WACExB,EAAKK,iBAAiBsB,UAAY,GAClC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,aAAad,OAAQa,GAAK,EAE5C,GAAIC,aAAaC,IAAIF,GAAGG,SAAS,SAAU,CAEzC,MAAMC,EAAUC,KAAKC,MAAML,aAAaM,QAAQN,aAAaC,IAAIF,KACjE9B,EAAWU,GAAKwB,EAChBlC,EACGsC,kBACAC,MACC,EAAC9B,OACCA,EAAMC,GACNA,EAAEC,eACFA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,aACZA,MAEAN,EAAW,C,OACTC,E,GACAC,E,eACAC,E,YACAC,E,aACAC,E,aACAC,GACA,G,EA9DZ2B,E","sources":["src/js/library.js","src/js/filmCards-library.js"],"sourcesContent":["// import './header.js';\n// import './pagination.js';\nimport './modal-team.js';\nimport './localStorage.js';\nimport './filmCards-library.js';\nimport './header-library';\n","import MovesApiService from './fetchMove';\n// import createCard from './filmCards-home';\nconst movieFetch = new MovesApiService();\n\nconst refs = {\n  watchedBtnLb: document.querySelector('.watchedBtnLb'),\n  queueBtnLb: document.querySelector('.queueBtnLb'),\n  libraryCardsList: document.querySelector('.library-cards__list'),\n};\n\nrefs.watchedBtnLb.addEventListener('click', onWatchedBtnLbClick);\nrefs.queueBtnLb.addEventListener('click', onQueueBtnClick);\n\nfunction onWatchedBtnLbClick(e) {\n  console.log('click lib');\n  //   createWathedGalery();\n  createWatchedList();\n}\n\nfunction onQueueBtnClick(e) {\n  createQueueList();\n}\n\nfunction createWatchedList() {\n  refs.libraryCardsList.innerHTML = '';\n  for (let i = 0; i < localStorage.length; i += 1) {\n    // console.log(localStorage.length);\n    if (localStorage.key(i).includes('watched')) {\n      // console.log(localStorage.getItem(localStorage.key(i)));\n      const movieId = JSON.parse(localStorage.getItem(localStorage.key(i)));\n      movieFetch.id = movieId;\n      movieFetch\n        .fetchMoviesInfo()\n        .then(\n          ({\n            genres,\n            id,\n            original_title,\n            poster_path,\n            release_date,\n            vote_average,\n          }) => {\n            createCard({\n              genres,\n              id,\n              original_title,\n              poster_path,\n              release_date,\n              vote_average,\n            });\n          }\n        );\n    }\n  }\n}\n\nfunction createQueueList() {\n  refs.libraryCardsList.innerHTML = '';\n  for (let i = 0; i < localStorage.length; i += 1) {\n    // console.log(localStorage.length);\n    if (localStorage.key(i).includes('queue')) {\n      // console.log(localStorage.getItem(localStorage.key(i)));\n      const movieId = JSON.parse(localStorage.getItem(localStorage.key(i)));\n      movieFetch.id = movieId;\n      movieFetch\n        .fetchMoviesInfo()\n        .then(\n          ({\n            genres,\n            id,\n            original_title,\n            poster_path,\n            release_date,\n            vote_average,\n          }) => {\n            createCard({\n              genres,\n              id,\n              original_title,\n              poster_path,\n              release_date,\n              vote_average,\n            });\n          }\n        );\n    }\n  }\n}\n\nfunction createCard({\n  genres,\n  id,\n  original_title,\n  poster_path,\n  release_date,\n  vote_average,\n}) {\n  const card = `<li class=\"cards__item\" id=\"${id}\">\n          <a class=\"cards__link\">\n              <img class=\"cards__img\" src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${original_title}\" loading=\"lazy\">\n          </a>\n              <div class=\"cards__text\"><h2 class=\"cards__name\">${getShortName(\n                original_title\n              )}</h2>\n              <p class=\"cards__genres\"> ${changeGanres(genres)} | ${createYear(\n    release_date\n  )}<span class=\"film-rating\"> ${vote_average.toFixed(1)}</span>\n              </p>\n              </div>\n          </li>`;\n\n  refs.libraryCardsList.insertAdjacentHTML('beforeend', card);\n}\n\nfunction getShortName(string) {\n  if (string) {\n    if (string.length > 32) {\n      return string.slice(0, 32) + '...';\n    }\n    return string;\n  }\n}\n\nfunction changeGanres(array) {\n  if (array.length > 2) {\n    return `${array[0].name}, ${array[1].name}, other`;\n  } else {\n    return `${array[0].name}, ${array[1].name}`;\n  }\n}\n\nfunction createYear(data) {\n  if (data) {\n    return data.slice(0, 4);\n  } else {\n    return (data = 'Not found');\n  }\n}\n"],"names":["parcelRequire","$e22a8b59918c3f3c$var$movieFetch","default","$e22a8b59918c3f3c$var$refs","watchedBtnLb","document","querySelector","queueBtnLb","libraryCardsList","$e22a8b59918c3f3c$var$createCard","genres","id","original_title","poster_path","release_date","vote_average","card","string","length","slice","$e22a8b59918c3f3c$var$getShortName","array","name","data","toFixed","insertAdjacentHTML","addEventListener","e","console","log","innerHTML","i","localStorage","key","includes","movieId","JSON","parse","getItem","fetchMoviesInfo","then","$e22a8b59918c3f3c$var$createWatchedList","$e22a8b59918c3f3c$var$createQueueList"],"version":3,"file":"library.88a942ad.js.map"}