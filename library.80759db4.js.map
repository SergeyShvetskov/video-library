{"mappings":"khBAGA,MAAMA,EAAO,CACXC,UAAWC,SAASC,cAAc,sBAClCC,UAAWF,SAASC,cAAc,qBAClCE,WAAYH,SAASC,cAAc,8BAIrCH,EAAKC,UAAUK,iBAAiB,SAEhC,SAAqBC,GACnBA,EAAMC,iBACNR,EAAKI,UAAUK,UAAUC,OAAO,Y,IAIlCV,EAAKK,WAAWC,iBAAiB,SAEjC,SAAsBC,GACpBA,EAAMC,iBAENR,EAAKI,UAAUK,UAAUE,IAAI,Y,IAG/BC,OAAON,iBAAiB,WAExB,SAAuBC,GACA,WACJA,EAAMM,MAGrBb,EAAKI,UAAUK,UAAUE,IAAI,Y,IAIjCX,EAAKI,UAAUE,iBAAiB,SAEhC,SAA8BC,GACTA,EAAMO,OAAOL,UAAUM,SAAS,kBAGjDf,EAAKI,UAAUK,UAAUE,IAAI,Y,yCC3CjC,IAAAK,EAAAC,EAAA,SAIcf,SAASC,cAAc,2BACzBD,SAASC,cAAc,yBAMZ,IAAI,EAAAa,EAAAE,Q,sCCT3B,MAAMC,EAAa,IAAI,EAFvBF,EAAA,SAEuBC,SAEjBE,EAAO,CACXC,aAAcnB,SAASC,cAAc,iBACrCmB,WAAYpB,SAASC,cAAc,eACnCoB,iBAAkBrB,SAASC,cAAc,yBAgB3C,SAASqB,IACLJ,EAAKG,iBAAiBE,UAAY,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,aAAaC,OAAQF,GAAK,EAE5C,GAAIC,aAAaE,IAAIH,GAAGI,SAAS,WAAY,CAEzC,MAAMC,EAAUC,KAAKC,MAAMN,aAAaO,QAAQP,aAAaE,IAAIH,KACjEP,EAAWgB,GAAKJ,EAChBZ,EACHiB,kBACAC,MAAK,EAACC,OACHA,EAAMH,GACNA,EAAEI,eACFA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,aACZA,MACIC,EAAW,C,OACfL,E,GACAH,E,eACAI,E,YACAC,E,aACAC,E,aACAC,GACD,G,EAoCP,SAASC,GAAWL,OAChBA,EAAMH,GACNA,EAAEI,eACFA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,aACZA,IAEA,MAAME,EAAO,+BAA+BT,qHAE4BK,WAAqBD,sGAgB/F,SAAsBM,GACpB,GAAIA,EACF,OAAIA,EAAOjB,OAAS,GACXiB,EAAOC,MAAM,EAAG,IAAM,MAExBD,C,CAnBoDE,CACjDR,oDAsBQS,EAnBRV,EAoBRU,EAAMpB,OAAS,EACV,GAAGoB,EAAM,GAAGC,SAASD,EAAM,GAAGC,cAE9B,GAAGD,EAAM,GAAGC,SAASD,EAAM,GAAGC,YAIrBC,EA1BUT,EA2BxBS,EACKA,EAAKJ,MAAM,EAAG,GAEN,yCA9BsDJ,EAAaS,QAAQ,uEA0B9F,IAAoBD,EAREF,EAbpB5B,EAAKG,iBAAiB6B,mBAAmB,YAAaR,E,CA/F1DxB,EAAKC,aAAaf,iBAAiB,SAGnC,SAA6B+C,GAC3BC,QAAQC,IAAI,aAEV/B,G,IALJJ,EAAKE,WAAWhB,iBAAiB,SAQjC,SAAyB+C,GACrB7B,G","sources":["src/js/modal-team.js","src/js/localStorage.js","src/js/filmCards-library.js"],"sourcesContent":["// import cards from './data-modalTeam';\n// import { getTeamCard } from './card-team';\n\nconst refs = {\n  openModal: document.querySelector('.page-footer__link'),\n  modalTeam: document.querySelector('[data-team-modal]'),\n  closeModal: document.querySelector('.team-modal__close-button'),\n  // teamList: document.querySelector('.js-team-list'),\n};\n\nrefs.openModal.addEventListener('click', onOpenModal);\n\nfunction onOpenModal(event) {\n  event.preventDefault();\n  refs.modalTeam.classList.remove('is-hidden');\n  // renderTeamCard();\n}\n\nrefs.closeModal.addEventListener('click', onCloseModal);\n\nfunction onCloseModal(event) {\n  event.preventDefault();\n  // clearTeamCard();\n  refs.modalTeam.classList.add('is-hidden');\n}\n\nwindow.addEventListener('keydown', onEscKeyPress);\n\nfunction onEscKeyPress(event) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = event.code === ESC_KEY_CODE;\n\n  if (isEscKey) {\n    refs.modalTeam.classList.add('is-hidden');\n  }\n}\n\nrefs.modalTeam.addEventListener('click', onModalCloseBackdrop);\n\nfunction onModalCloseBackdrop(event) {\n  const isBackdrop = event.target.classList.contains('team-backdrop');\n\n  if (isBackdrop) {\n    refs.modalTeam.classList.add('is-hidden');\n  }\n}\n\n// function renderTeamCard() {\n//   const markup = cards\n//     .map(getTeamCard)\n//     .join(\"\");\n\n//   refs.teamList.insertAdjacentHTML(\"beforeend\", markup);\n// }\n\n// function clearTeamCard() {\n//   refs.teamList.innerHTML = '';\n// }\n","import MovesApiService from './fetchMove';\n// import idMovie from './filmCards-home';\n\nconst refs = {\n  watchedBtn: document.querySelector('.modal-form-watched-bnt'),\n  queueBtn: document.querySelector('.modal-form-queue-bnt'),\n};\n\n// refs.watchedBtn.addEventListener('click', addToWatchedList);\n// refs.queueBtn.addEventListener('click', addToQueueList);\n\nconst movieInfoFetch = new MovesApiService();\n\nfunction addToWatchedList(e) {\n  console.log('CLICK WATCHED');\n  movieInfoFetch.id = localStorage.getItem('id-movie');\n  console.log(movieInfoFetch.id);\n  movieInfoFetch\n    .fetchMoviesInfo()\n    .then(\n      ({\n        genres,\n        id,\n        original_title,\n        overview,\n        popularity,\n        poster_path,\n        relise_date,\n        vote_avarege,\n        vote_count,\n      }) => {\n        const jsonFilmInfo = JSON.stringify({\n          genres,\n          id,\n          original_title,\n          overview,\n          popularity,\n          poster_path,\n          relise_date,\n          vote_avarege,\n          vote_count,\n        });\n        localStorage.setItem(`watched-${id}`, jsonFilmInfo);\n      }\n    );\n}\n\nfunction addToQueueList(e) {\n  console.log('CLICK QUEUE');\n  console.log('CLICK WATCHED');\n  movieInfoFetch.id = localStorage.getItem('id-movie');\n  console.log(movieInfoFetch.id);\n  movieInfoFetch\n    .fetchMoviesInfo()\n    .then(\n      ({\n        genres,\n        id,\n        original_title,\n        overview,\n        popularity,\n        poster_path,\n        relise_date,\n        vote_avarege,\n        vote_count,\n      }) => {\n        const jsonFilmInfo = JSON.stringify({\n          genres,\n          id,\n          original_title,\n          overview,\n          popularity,\n          poster_path,\n          relise_date,\n          vote_avarege,\n          vote_count,\n        });\n        localStorage.setItem(`queue-${id}`, jsonFilmInfo);\n      }\n    );\n}\n","import MovesApiService from './fetchMove';\n// import createCard from './filmCards-home';\nconst movieFetch = new MovesApiService();\n\nconst refs = {\n  watchedBtnLb: document.querySelector('.watchedBtnLb'),\n  queueBtnLb: document.querySelector('.queueBtnLb'),\n  libraryCardsList: document.querySelector('.library-cards__list'),\n};\n\nrefs.watchedBtnLb.addEventListener('click', onWatchedBtnLbClick);\nrefs.queueBtnLb.addEventListener('click', onQueueBtnClick)\n\nfunction onWatchedBtnLbClick(e) {\n  console.log('click lib');\n//   createWathedGalery();\n    createWatchedList();\n}\n\nfunction onQueueBtnClick(e) {\n    createWatchedList()\n}\n\nfunction createWatchedList() {\n    refs.libraryCardsList.innerHTML = '';\n  for (let i = 0; i < localStorage.length; i += 1) {\n    // console.log(localStorage.length);\n    if (localStorage.key(i).includes('watched')) {\n        // console.log(localStorage.getItem(localStorage.key(i)));\n        const movieId = JSON.parse(localStorage.getItem(localStorage.key(i)));\n        movieFetch.id = movieId;\n        movieFetch\n    .fetchMoviesInfo()\n    .then(({\n        genres,\n        id,\n        original_title,\n        poster_path,\n        release_date,\n        vote_average,\n     }) => {createCard({\n        genres,\n        id,\n        original_title,\n        poster_path,\n        release_date,\n        vote_average,\n     })}\n)\n      }\n  }\n}\n\nfunction createQueueList() {\n    refs.libraryCardsList.innerHTML = '';\n    for (let i = 0; i < localStorage.length; i += 1) {\n      // console.log(localStorage.length);\n      if (localStorage.key(i).includes('watched')) {\n          // console.log(localStorage.getItem(localStorage.key(i)));\n          const movieId = JSON.parse(localStorage.getItem(localStorage.key(i)));\n          movieFetch.id = movieId;\n          movieFetch\n      .fetchMoviesInfo()\n      .then(({\n          genres,\n          id,\n          original_title,\n          poster_path,\n          release_date,\n          vote_average,\n       }) => {createCard({\n          genres,\n          id,\n          original_title,\n          poster_path,\n          release_date,\n          vote_average,\n       })}\n  )\n        }\n    }\n  }\n\nfunction createCard({\n    genres,\n    id,\n    original_title,\n    poster_path,\n    release_date,\n    vote_average,\n }) {\n    const card = `<li class=\"cards__item\" id=\"${id}\">\n          <a class=\"cards__link\">\n              <img class=\"cards__img\" src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${original_title}\" loading=\"lazy\">\n          </a>\n              <div class=\"cards__text\"><h2 class=\"cards__name\">${getShortName(\n                original_title  \n              )}</h2>\n              <p class=\"cards__genres\"> ${changeGanres(\n                genres\n              )} | ${createYear(release_date)}<span class=\"film-rating\"> ${vote_average.toFixed(1)}</span>\n              </p>\n              </div>\n          </li>`\n   \n    refs.libraryCardsList.insertAdjacentHTML('beforeend', card);\n              \n  }\n\n  function getShortName(string) {\n    if (string) {\n      if (string.length > 32) {\n        return string.slice(0, 32) + '...';\n      }\n      return string;\n    }\n  }\n\n  function changeGanres(array) {\n    if (array.length > 2) {\n      return `${array[0].name}, ${array[1].name}, other`;\n    } else {\n      return `${array[0].name}, ${array[1].name}`;\n    }\n  }\n  \n  function createYear(data) {\n    if (data) {\n      return data.slice(0, 4);\n    } else {\n      return (data = 'Not found');\n    }\n  }\n"],"names":["$7ffd53e14a5f2a85$var$refs","openModal","document","querySelector","modalTeam","closeModal","addEventListener","event","preventDefault","classList","remove","add","window","code","target","contains","$cdQSu","parcelRequire","default","$869412cab76482af$var$movieFetch","$869412cab76482af$var$refs","watchedBtnLb","queueBtnLb","libraryCardsList","$869412cab76482af$var$createWatchedList","innerHTML","i","localStorage","length","key","includes","movieId","JSON","parse","getItem","id","fetchMoviesInfo","then","genres","original_title","poster_path","release_date","vote_average","$869412cab76482af$var$createCard","card","string","slice","$869412cab76482af$var$getShortName","array","name","data","toFixed","insertAdjacentHTML","e","console","log"],"version":3,"file":"library.80759db4.js.map"}