!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire127d;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire127d=a),a("aZhHc"),a("UL92Z");var r=a("cdQSu"),o=a("bpXNI");new(0,r.default);const l={watchedBtnLb:document.querySelector(".watchedBtnLb"),queueBtnLb:document.querySelector(".queueBtnLb"),libraryCardsList:document.querySelector(".library-cards__list"),modalWindow:document.querySelector("[data-modal"),movieList:document.querySelector("#card-list")};function d(e){l.queueBtnLb.style.backgroundColor="transparent",l.queueBtnLb.style.border="1px solid #FFFFFF",l.watchedBtnLb.style.backgroundColor="#ff6b01",l.watchedBtnLb.style.border="1px solid #ff6b01",i()}function i(){l.libraryCardsList.innerHTML="";for(let e=0;e<localStorage.length;e+=1)if(localStorage.key(e).includes("watched")){s(JSON.parse(localStorage.getItem(localStorage.key(e))))}}function c(){l.libraryCardsList.innerHTML="";for(let e=0;e<localStorage.length;e+=1)if(localStorage.key(e).includes("queue")){s(JSON.parse(localStorage.getItem(localStorage.key(e))))}}function s({genres:e,id:t,original_title:n,poster_path:a,release_date:r,vote_average:d}){const i=`<li class="cards__item" id="${t}">\n          <a class="cards__link">\n              <img class="cards__img" src="${(0,o.posterNull)(a)}" alt="${n}" loading="lazy">\n          </a>\n              <div class="cards__text"><h2 class="cards__name">${function(e){if(e)return e.length>32?e.slice(0,32)+"...":e}(n)}</h2>\n              <p class="cards__genres"> ${s=e,s.length>2?`${s[0].name}, ${s[1].name}, other`:function(e){e.map((e=>e.name)).join(", ")}(s)} | ${c=r,c?c.slice(0,4):"Not found"}<span class="film-rating"> ${d.toFixed(1)}</span>\n              </p>\n              </div>\n          </li>`;var c,s;l.libraryCardsList.insertAdjacentHTML("beforeend",i)}l.watchedBtnLb.addEventListener("click",d),l.queueBtnLb.addEventListener("click",(function(e){l.watchedBtnLb.style.backgroundColor="transparent",l.watchedBtnLb.style.border="1px solid #FFFFFF",l.queueBtnLb.style.backgroundColor="#ff6b01",l.queueBtnLb.style.border="1px solid #ff6b01",c()})),window.addEventListener("load",d),l.movieList.addEventListener("click",(function(e){if(!l.modalWindow.classList.contains("is-hidden")){document.addEventListener("click",(function(e){switch(e.target.className){case"modal-form-watched-bnt add-watched":case"modal-form-watched-bnt remove-watched":i();break;case"modal-form-queue-bnt add-queue":case"modal-form-queue-bnt remove-queue":c()}}))}}))}();
//# sourceMappingURL=library.4958d1e5.js.map
