!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=e.parcelRequire127d;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},e.parcelRequire127d=o),o("iU1Pc"),o("4Nugj"),o("itUQ7");var a=o("iU1Pc"),i=o("4Nugj"),c=o("XcJ0g");function d(t){const e=t.results.map((({id:t,poster_path:e,title:n,release_date:r,genre_ids:o})=>{return`<li class="cards__item" id="${t}">\n        <a class="cards__link">\n            <img class="cards__img" src="${e=""===e||"null"===e||null===e?"https://i.pinimg.com/originals/74/3d/b2/743db230d891b47c1d8c66b161111b91.jpg":"https://image.tmdb.org/t/p/w400"+e}" alt="${n}" loading="lazy">\n        </a>\n            <div class="cards__text"><h2 class="cards__name">${function(t){if(t)return t.length>=32?t.substr(0,32)+"...":t}(n)}</h2>\n            <p class="cards__genres"> ${function(t){const e=t.flatMap((t=>c.genres.filter((e=>e.id===t))));let n=e.map((t=>t.name));if(n.length>2){const t=n.splice(0,2);return t.push("Other"),t.join(", ")}return 0===n.length?n="Genre not found":n.join(", ")}(o)} | ${a=r,a?a.slice(0,4):"Year not found"}</p>\n            </div>\n        </li>`;var a})).join("");i.cardList.insertAdjacentHTML("beforeend",e)}a=o("iU1Pc"),i=o("4Nugj");var s=o("dIxxU").default;async function u(e=1){const n=await s.get(`${i.COMMON_URL}${i.TRENDING_FilM}?api_key=${i.API_KEY}&page=${e}`);try{return n.data}catch(e){t(a).Notify.failure(e)}}async function l(e,n){const r=await s.get(`${i.COMMON_URL}${i.SEARCH_FilM}?api_key=${i.API_KEY}&query=${e}&page=${n}`);try{return r.data}catch(e){t(a).Notify.failure(e),console.error(e)}}i=o("4Nugj"),a=o("iU1Pc"),o("dIxxU").default;const m=document.querySelector('[data-index="1"]'),f=document.querySelector('[data-index="2"]'),h=document.querySelector('[data-index="3"]'),g=document.querySelector('[data-index="4"]'),x=document.querySelector('[data-index="5"]'),p=document.querySelector(".first-button"),C=document.querySelector(".last-button"),y=document.querySelector(".pagination-container"),b=document.querySelector(".arrow-right"),N=document.querySelector(".arrow-left"),L=document.querySelector("#previous"),_=document.querySelector("#after");y.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(Number(e.target.textContent)&&(v=Number(e.target.textContent)),L.hidden=!0,_.hidden=!0,e.target.classList.contains("pagination-button")&&(q.forEach((t=>t.classList.remove("pagination--current"))),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&v<1e3&&(q.forEach((t=>t.classList.remove("pagination--current"))),m.classList.add("pagination--current"),m.textContent=Number(m.textContent)+5,f.textContent=Number(f.textContent)+5,h.textContent=Number(h.textContent)+5,g.textContent=Number(g.textContent)+5,x.textContent=Number(x.textContent)+5,v=m.textContent),e.target.classList.contains("arrow-left")&&v>=5&&(q.forEach((t=>t.classList.remove("pagination--current"))),m.textContent=Number(m.textContent)-5,f.textContent=Number(f.textContent)-5,h.textContent=Number(h.textContent)-5,g.textContent=Number(g.textContent)-5,x.textContent=Number(x.textContent)-5,x.classList.add("pagination--current"),v=x.textContent),e.target.classList.contains("first-button")&&(q.forEach((t=>t.classList.remove("pagination--current"))),m.textContent=1,f.textContent=2,h.textContent=3,g.textContent=4,x.textContent=5,m.classList.add("pagination--current"),v=m.textContent,N.hidden=!0,L.hidden=!0,p.hidden=!0),e.target.classList.contains("last-button")&&(q.forEach((t=>t.classList.remove("pagination--current"))),m.textContent=Number(C.textContent)-4,f.textContent=Number(C.textContent)-3,h.textContent=Number(C.textContent)-2,g.textContent=Number(C.textContent)-1,x.textContent=C.textContent,x.classList.add("pagination--current"),v=x.textContent,b.hidden=!0,_.hidden=!0,C.hidden=!0),Number(v)>5?(N.hidden=!1,L.hidden=!1,p.hidden=!1):(N.hidden=!0,L.hidden=!0,p.hidden=!0),Number(v)<996&&(b.hidden=!1,_.hidden=!1,C.hidden=!1),i.cardList.innerHTML="",window.scrollTo({top:0,behavior:"smooth"}),""!==i.inputRef.value?l(i.inputRef.value,v).then((t=>{d(t)})).catch((e=>t(a).Notify.failure(e))):u(v).then((t=>{d(t)})).catch((e=>t(a).Notify.failure(e))))}));let v=1,q=document.querySelectorAll(".pagination-button");L.hidden=!0,N.hidden=!0,p.hidden=!0;o("dIxxU").default;document.addEventListener("DOMContentLoaded",(async function(){u().then((t=>{d(t)})).catch((t=>t.message))}));document.querySelector("pagination--current");const S={searchForm:document.querySelector(".header-search__wrapper"),cardlist:document.querySelector(".cards__list"),cardsListLibrary:document.querySelector(".cards__list--library")};S.searchForm.addEventListener("submit",(async function(e){e.preventDefault();const n=e.currentTarget.elements.query.value.trim();void(S.cardlist.innerHTML=""),""!==n?l(n,1).then((e=>{if(0===e.results.length)return t(a).Loading.remove(400),t(a).Notify.failure("Search result not successful. Enter the correct movie name and try again.");t(a).Loading.remove(400),d(e)})).catch((e=>t(a).Notify.failure(e))):u(1).then((t=>{d(t)})).catch((e=>t(a).Notify.failure(e)))})),o("aZhHc"),o("UL92Z"),o("bymb6"),o("5xtVg"),o("8zUhP"),window.addEventListener("load",(()=>{document.querySelector(".loader").classList.add("loader--hidden"),setTimeout((()=>{document.body.removeChild(document.querySelector(".loader"))}),400)}))}();
//# sourceMappingURL=index.18f1aa78.js.map
