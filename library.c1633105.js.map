{"mappings":"gfAEAA,EAAA,S,WCAA,MAAMC,EAAa,IAAI,EAFvBD,EAAA,SAEuBE,SAEjBC,EAAO,CACXC,aAAcC,SAASC,cAAc,iBACrCC,WAAYF,SAASC,cAAc,eACnCE,iBAAkBH,SAASC,cAAc,yBAO3C,SAASG,EAAoBC,GAC3BP,EAAKI,WAAWI,MAAMC,gBAAkB,cACxCT,EAAKI,WAAWI,MAAME,OAAS,oBAC/BV,EAAKC,aAAaO,MAAMC,gBAAkB,UAC1CT,EAAKC,aAAaO,MAAME,OAAS,oBAE/BC,G,CAYJ,SAASA,IAGLX,EAAKK,iBAAiBO,UAAY,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,aAAaC,OAAQF,GAAK,EAE5C,GAAIC,aAAaE,IAAIH,GAAGI,SAAS,WAAY,CAEzC,MAAMC,EAAUC,KAAKC,MAAMN,aAAaO,QAAQP,aAAaE,IAAIH,KACjEf,EAAWwB,GAAKJ,EAChBpB,EACHyB,kBACAC,MAAK,EAACC,OACHA,EAAMH,GACNA,EAAEI,eACFA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,aACZA,MACIC,EAAW,C,OACfL,E,GACAH,E,eACAI,E,YACAC,E,aACAC,E,aACAC,GACD,G,EAqCP,SAASC,GAAWL,OAChBA,EAAMH,GACNA,EAAEI,eACFA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,aACZA,IAEA,MAAME,EAAO,+BAA+BT,qHAE4BK,WAAqBD,sGAgB/F,SAAsBM,GACpB,GAAIA,EACF,OAAIA,EAAOjB,OAAS,GACXiB,EAAOC,MAAM,EAAG,IAAM,MAExBD,C,CAnBoDE,CACjDR,oDAsBQS,EAnBRV,EAoBRU,EAAMpB,OAAS,EACV,GAAGoB,EAAM,GAAGC,SAASD,EAAM,GAAGC,cAE9B,GAAGD,EAAM,GAAGC,SAASD,EAAM,GAAGC,YAIrBC,EA1BUT,EA2BxBS,EACKA,EAAKJ,MAAM,EAAG,GAEN,yCA9BsDJ,EAAaS,QAAQ,uEA0B9F,IAAoBD,EAREF,EAbpBnC,EAAKK,iBAAiBkC,mBAAmB,YAAaR,E,CA3G1D/B,EAAKC,aAAauC,iBAAiB,QAASlC,GAC5CN,EAAKI,WAAWoC,iBAAiB,SAYjC,SAAyBjC,GACvBP,EAAKC,aAAaO,MAAMC,gBAAkB,cAC1CT,EAAKC,aAAaO,MAAME,OAAS,oBACjCV,EAAKI,WAAWI,MAAMC,gBAAkB,UACxCT,EAAKI,WAAWI,MAAME,OAAS,oBAE7BC,G,IAjBJ8B,OAAOD,iBAAiB,OAAQlC,E","sources":["src/js/library.js","src/js/filmCards-library.js"],"sourcesContent":["// import './header.js';\n// import './pagination.js';\nimport './modal-team.js';\nimport './localStorage.js';\nimport './filmCards-library.js';\nimport './header-library';\n","import MovesApiService from './fetchMove';\n// import createCard from './filmCards-home';\nconst movieFetch = new MovesApiService();\n\nconst refs = {\n  watchedBtnLb: document.querySelector('.watchedBtnLb'),\n  queueBtnLb: document.querySelector('.queueBtnLb'),\n  libraryCardsList: document.querySelector('.library-cards__list'),\n};\n\nrefs.watchedBtnLb.addEventListener('click', onWatchedBtnLbClick);\nrefs.queueBtnLb.addEventListener('click', onQueueBtnClick);\nwindow.addEventListener('load', onWatchedBtnLbClick);\n\nfunction onWatchedBtnLbClick(e) {\n  refs.queueBtnLb.style.backgroundColor = 'transparent';\n  refs.queueBtnLb.style.border = '1px solid #FFFFFF';\n  refs.watchedBtnLb.style.backgroundColor = '#ff6b01';\n  refs.watchedBtnLb.style.border = '1px solid #ff6b01';\n//   createWathedGalery();\n    createWatchedList();\n}\n\nfunction onQueueBtnClick(e) {\n  refs.watchedBtnLb.style.backgroundColor = 'transparent';\n  refs.watchedBtnLb.style.border = '1px solid #FFFFFF';\n  refs.queueBtnLb.style.backgroundColor = '#ff6b01';\n  refs.queueBtnLb.style.border = '1px solid #ff6b01';\n\n    createWatchedList()\n}\n\nfunction createWatchedList() {\n\n\n    refs.libraryCardsList.innerHTML = '';\n  for (let i = 0; i < localStorage.length; i += 1) {\n    // console.log(localStorage.length);\n    if (localStorage.key(i).includes('watched')) {\n        // console.log(localStorage.getItem(localStorage.key(i)));\n        const movieId = JSON.parse(localStorage.getItem(localStorage.key(i)));\n        movieFetch.id = movieId;\n        movieFetch\n    .fetchMoviesInfo()\n    .then(({\n        genres,\n        id,\n        original_title,\n        poster_path,\n        release_date,\n        vote_average,\n     }) => {createCard({\n        genres,\n        id,\n        original_title,\n        poster_path,\n        release_date,\n        vote_average,\n     })}\n)\n      }\n  }\n}\n\nfunction createQueueList() {\n\n    refs.libraryCardsList.innerHTML = '';\n    for (let i = 0; i < localStorage.length; i += 1) {\n      // console.log(localStorage.length);\n      if (localStorage.key(i).includes('watched')) {\n          // console.log(localStorage.getItem(localStorage.key(i)));\n          const movieId = JSON.parse(localStorage.getItem(localStorage.key(i)));\n          movieFetch.id = movieId;\n          movieFetch\n      .fetchMoviesInfo()\n      .then(({\n          genres,\n          id,\n          original_title,\n          poster_path,\n          release_date,\n          vote_average,\n       }) => {createCard({\n          genres,\n          id,\n          original_title,\n          poster_path,\n          release_date,\n          vote_average,\n       })}\n  )\n        }\n    }\n  }\n\nfunction createCard({\n    genres,\n    id,\n    original_title,\n    poster_path,\n    release_date,\n    vote_average,\n }) {\n    const card = `<li class=\"cards__item\" id=\"${id}\">\n          <a class=\"cards__link\">\n              <img class=\"cards__img\" src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${original_title}\" loading=\"lazy\">\n          </a>\n              <div class=\"cards__text\"><h2 class=\"cards__name\">${getShortName(\n                original_title  \n              )}</h2>\n              <p class=\"cards__genres\"> ${changeGanres(\n                genres\n              )} | ${createYear(release_date)}<span class=\"film-rating\"> ${vote_average.toFixed(1)}</span>\n              </p>\n              </div>\n          </li>`\n   \n    refs.libraryCardsList.insertAdjacentHTML('beforeend', card);\n              \n  }\n\n  function getShortName(string) {\n    if (string) {\n      if (string.length > 32) {\n        return string.slice(0, 32) + '...';\n      }\n      return string;\n    }\n  }\n\n  function changeGanres(array) {\n    if (array.length > 2) {\n      return `${array[0].name}, ${array[1].name}, other`;\n    } else {\n      return `${array[0].name}, ${array[1].name}`;\n    }\n  }\n  \n  function createYear(data) {\n    if (data) {\n      return data.slice(0, 4);\n    } else {\n      return (data = 'Not found');\n    }\n  }\n"],"names":["parcelRequire","$869412cab76482af$var$movieFetch","default","$869412cab76482af$var$refs","watchedBtnLb","document","querySelector","queueBtnLb","libraryCardsList","$869412cab76482af$var$onWatchedBtnLbClick","e","style","backgroundColor","border","$869412cab76482af$var$createWatchedList","innerHTML","i","localStorage","length","key","includes","movieId","JSON","parse","getItem","id","fetchMoviesInfo","then","genres","original_title","poster_path","release_date","vote_average","$869412cab76482af$var$createCard","card","string","slice","$869412cab76482af$var$getShortName","array","name","data","toFixed","insertAdjacentHTML","addEventListener","window"],"version":3,"file":"library.c1633105.js.map"}